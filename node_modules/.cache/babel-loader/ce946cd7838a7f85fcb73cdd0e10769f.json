{"ast":null,"code":"import _slicedToArray from\"/Users/jordanhawley/Documents/course_work/alCODEholics_Updated/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{getPendingItemsByUser,getCompletedItemsByUser,removeFromCart,checkout,changeQuantity}from\"../api/index\";import{Link,useHistory}from\"react-router-dom\";var Cart=function Cart(_ref){var user=_ref.user;var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];var total=0;useEffect(function(){if(user){getPendingItemsByUser(user.user.id).then(function(cartItems){if(cartItems){setCartItems(cartItems);}}).catch(function(error){return console.error(error);});}},[]);if(!user){return/*#__PURE__*/React.createElement(\"div\",{id:\"loginBox\",style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",border:\"3px solid black\",height:\"300px\",backgroundColor:\"orange\",width:\"1000px\",marginTop:\"300px\",marginLeft:\"20%\",textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"h1\",null,\"Please \",/*#__PURE__*/React.createElement(Link,{to:\"/loginUserAccount\"},\"Login\"),\" or \",/*#__PURE__*/React.createElement(Link,{to:\"/registerUserAccount\"},\"Register\"),\" to access the cart!\"));}else{cartItems.forEach(function(item){total=parseFloat((Math.round((item.price*item.quantity+total)*100)/100).toFixed(2));});return/*#__PURE__*/React.createElement(\"div\",{id:\"cart\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Your Cart\"),cartItems.map(function(item,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"cartItem\",key:index},/*#__PURE__*/React.createElement(\"div\",null,item.name),/*#__PURE__*/React.createElement(\"label\",{for:\"item\"},\"Quantity:\"),/*#__PURE__*/React.createElement(\"select\",{name:\"item\",id:\"item\",onChange:function onChange(event){changeQuantity(item.id,event.target.value);window.location.reload();}},/*#__PURE__*/React.createElement(\"option\",{selected:true},item.quantity),/*#__PURE__*/React.createElement(\"option\",{value:\"1\"},\"1\"),/*#__PURE__*/React.createElement(\"option\",{value:\"2\"},\"2\"),/*#__PURE__*/React.createElement(\"option\",{value:\"3\"},\"3\"),/*#__PURE__*/React.createElement(\"option\",{value:\"4\"},\"4\"),/*#__PURE__*/React.createElement(\"option\",{value:\"5\"},\"5\"),/*#__PURE__*/React.createElement(\"option\",{value:\"6\"},\"6\"),/*#__PURE__*/React.createElement(\"option\",{value:\"7\"},\"7\"),/*#__PURE__*/React.createElement(\"option\",{value:\"8\"},\"8\"),/*#__PURE__*/React.createElement(\"option\",{value:\"9\"},\"9\"),/*#__PURE__*/React.createElement(\"option\",{value:\"10\"},\"10\")),/*#__PURE__*/React.createElement(\"div\",null,\"$\",(Math.round(item.price*item.quantity*100)/100).toFixed(2)),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){removeFromCart(user.user.id,item.id);window.location.reload();}},\"Delete\"));}),/*#__PURE__*/React.createElement(\"div\",{id:\"total\"},\"TOTAL: $\",total),total===0?/*#__PURE__*/React.createElement(\"button\",{id:\"disabledButton\",disabled:\"true\",className:\"cartButton\"},\"Checkout\"):/*#__PURE__*/React.createElement(\"button\",{className:\"cartButton\",onClick:function onClick(){checkout(user.user.id);setCartItems(new Array());history.push(\"/paymentform\");}},\"Checkout\"));}};export default Cart;","map":{"version":3,"sources":["/Users/jordanhawley/Documents/course_work/alCODEholics_Updated/src/components/Cart.js"],"names":["React","useState","useEffect","getPendingItemsByUser","getCompletedItemsByUser","removeFromCart","checkout","changeQuantity","Link","useHistory","Cart","user","history","cartItems","setCartItems","total","id","then","catch","error","console","display","justifyContent","alignItems","border","height","backgroundColor","width","marginTop","marginLeft","textAlign","forEach","item","parseFloat","Math","round","price","quantity","toFixed","map","index","name","event","target","value","window","location","reload","Array","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  getPendingItemsByUser,\n  getCompletedItemsByUser,\n  removeFromCart,\n  checkout,\n  changeQuantity,\n} from \"../api/index\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nconst Cart = ({ user }) => {\n  const history = useHistory();\n  const [cartItems, setCartItems] = useState([]);\n  let total = 0;\n\n  useEffect(() => {\n    if (user) {\n      getPendingItemsByUser(user.user.id)\n        .then((cartItems) => {\n          if (cartItems) {\n            setCartItems(cartItems);\n          }\n        })\n        .catch((error) => console.error(error));\n    }\n  }, []);\n\n  if (!user) {\n    return (\n      <div\n        id=\"loginBox\"\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          border: \"3px solid black\",\n          height: \"300px\",\n          backgroundColor: \"orange\",\n          width: \"1000px\",\n          marginTop: \"300px\",\n          marginLeft: \"20%\",\n          textAlign: \"center\"\n      }}><h1>Please <Link to=\"/loginUserAccount\">Login</Link> or <Link to=\"/registerUserAccount\">Register</Link> to access the cart!</h1></div>\n    )} else {\n\n      cartItems.forEach(item => {\n        total = parseFloat((Math.round(((item.price * item.quantity) + total) * 100) / 100).toFixed(2))\n      })\n\n    return (\n      <div id=\"cart\">\n        <h1>Your Cart</h1>\n        {cartItems.map((item, index) => {\n          return (\n            <div className=\"cartItem\" key={index}>\n              <div>{item.name}</div>\n              <label for=\"item\">Quantity:</label>\n\n              <select\n                name=\"item\"\n                id=\"item\"\n                onChange={(event) => {\n                  changeQuantity(item.id, event.target.value);\n                  window.location.reload();\n                }}\n              >\n                <option selected>{item.quantity}</option>\n                <option value=\"1\">1</option>\n                <option value=\"2\">2</option>\n                <option value=\"3\">3</option>\n                <option value=\"4\">4</option>\n                <option value=\"5\">5</option>\n                <option value=\"6\">6</option>\n                <option value=\"7\">7</option>\n                <option value=\"8\">8</option>\n                <option value=\"9\">9</option>\n                <option value=\"10\">10</option>\n              </select>\n\n              <div>\n                $\n                {(Math.round(item.price * item.quantity * 100) / 100).toFixed(\n                  2\n                )}\n              </div>\n\n              <button\n                onClick={() => {\n                  removeFromCart(user.user.id, item.id);\n                  window.location.reload();\n                }}\n              >\n                Delete\n              </button>\n            </div>\n          );\n        })}\n        <div id=\"total\">TOTAL: ${total}</div>\n        {total === 0 ? (\n          <button id=\"disabledButton\" disabled=\"true\" className=\"cartButton\">\n            Checkout\n          </button>\n        ) : (\n          <button\n            className=\"cartButton\"\n            onClick={() => {\n              checkout(user.user.id);\n              setCartItems(new Array());\n              history.push(\"/paymentform\");\n            }}\n          >\n            Checkout\n          </button>\n        )}\n      </div>\n    );\n  }\n};\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}